<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>ì¶”ì²¨</title>

<style>
body {
    background:#020617;
    color:white;
    font-family:sans-serif;
    text-align:center;
    margin-top:60px;
}

.result-box {
    margin-top:40px;
    height:80px;
    width:160px;
    margin-left:auto;
    margin-right:auto;
    display:flex;
    justify-content:center;
    align-items:center;
    font-size:45px;
    border:2px solid cyan;
    border-radius:12px;
    box-shadow:0 0 15px cyan;
}

button {
    padding:8px 20px;
    margin:10px;
    cursor:pointer;
}
</style>
</head>

<body>

<h2>ðŸŽ¯ ì¶”ì²¨</h2>

ìµœì†Œê°’ <input id="min" type="number" value="1">
ìµœëŒ€ê°’ <input id="max" type="number" value="50">

<br>
<button onclick="draw()">ì¶”ì²¨</button>

<div class="result-box" id="result">?</div>

<script>

// ê´€ë¦¬ì°½ ìžë™ ì—´ê¸°
window.onload = function(){
    window.open("control.html","ê´€ë¦¬ì°½","width=300,height=300");
}

function draw(){

    let min = parseInt(document.getElementById("min").value);
    let max = parseInt(document.getElementById("max").value);

    // â­ ë‹¤ìŒ ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    let forced = sessionStorage.getItem("forcedNumber");

    let final = forced
        ? parseInt(forced)
        : Math.floor(Math.random()*(max-min+1))+min;

    // â­ í•œë²ˆ ì“°ë©´ ì œê±°
    sessionStorage.removeItem("forcedNumber");

    let box = document.getElementById("result");

    let duration = 1500;
    let interval = 50;
    let elapsed = 0;

    let anim = setInterval(()=>{

        box.innerText = Math.floor(Math.random()*(max-min+1))+min;

        elapsed += interval;

        if(elapsed >= duration){
            clearInterval(anim);
            box.innerText = final;
        }

    }, interval);
}
</script>

</body>
</html>
